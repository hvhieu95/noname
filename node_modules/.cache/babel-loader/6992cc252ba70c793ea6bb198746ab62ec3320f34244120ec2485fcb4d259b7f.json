{"ast":null,"code":"/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nvar _classCallCheck = require(\"C:/Users/hoang/OneDrive/M\\xE1y t\\xEDnh/xs5wpn/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"C:/Users/hoang/OneDrive/M\\xE1y t\\xEDnh/xs5wpn/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _slicedToArray = require(\"C:/Users/hoang/OneDrive/M\\xE1y t\\xEDnh/xs5wpn/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray.js\").default;\nvar _regeneratorRuntime = require(\"C:/Users/hoang/OneDrive/M\\xE1y t\\xEDnh/xs5wpn/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\nvar _asyncToGenerator = require(\"C:/Users/hoang/OneDrive/M\\xE1y t\\xEDnh/xs5wpn/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isValidRotation = isValidRotation;\nexports.isValidScrollMode = isValidScrollMode;\nexports.isValidSpreadMode = isValidSpreadMode;\nexports.isPortraitOrientation = isPortraitOrientation;\nexports.getGlobalEventBus = getGlobalEventBus;\nexports.clamp = clamp;\nexports.getPDFFileNameFromURL = getPDFFileNameFromURL;\nexports.noContextMenuHandler = noContextMenuHandler;\nexports.parseQueryString = parseQueryString;\nexports.backtrackBeforeAllVisibleElements = backtrackBeforeAllVisibleElements;\nexports.getVisibleElements = getVisibleElements;\nexports.roundToDivide = roundToDivide;\nexports.getPageSizeInches = getPageSizeInches;\nexports.approximateFraction = approximateFraction;\nexports.getOutputScale = getOutputScale;\nexports.scrollIntoView = scrollIntoView;\nexports.watchScroll = watchScroll;\nexports.binarySearchFirstItem = binarySearchFirstItem;\nexports.normalizeWheelEventDelta = normalizeWheelEventDelta;\nexports.waitOnEventOrTimeout = waitOnEventOrTimeout;\nexports.moveToEndOfArray = moveToEndOfArray;\nexports.WaitOnType = exports.animationStarted = exports.ProgressBar = exports.EventBus = exports.NullL10n = exports.SpreadMode = exports.ScrollMode = exports.TextLayerMode = exports.RendererType = exports.PresentationModeState = exports.VERTICAL_PADDING = exports.SCROLLBAR_PADDING = exports.MAX_AUTO_SCALE = exports.UNKNOWN_SCALE = exports.MAX_SCALE = exports.MIN_SCALE = exports.DEFAULT_SCALE = exports.DEFAULT_SCALE_VALUE = exports.CSS_UNITS = exports.AutoPrintRegExp = void 0;\nvar CSS_UNITS = 96.0 / 72.0;\nexports.CSS_UNITS = CSS_UNITS;\nvar DEFAULT_SCALE_VALUE = \"auto\";\nexports.DEFAULT_SCALE_VALUE = DEFAULT_SCALE_VALUE;\nvar DEFAULT_SCALE = 1.0;\nexports.DEFAULT_SCALE = DEFAULT_SCALE;\nvar MIN_SCALE = 0.1;\nexports.MIN_SCALE = MIN_SCALE;\nvar MAX_SCALE = 10.0;\nexports.MAX_SCALE = MAX_SCALE;\nvar UNKNOWN_SCALE = 0;\nexports.UNKNOWN_SCALE = UNKNOWN_SCALE;\nvar MAX_AUTO_SCALE = 1.25;\nexports.MAX_AUTO_SCALE = MAX_AUTO_SCALE;\nvar SCROLLBAR_PADDING = 40;\nexports.SCROLLBAR_PADDING = SCROLLBAR_PADDING;\nvar VERTICAL_PADDING = 5;\nexports.VERTICAL_PADDING = VERTICAL_PADDING;\nvar PresentationModeState = {\n  UNKNOWN: 0,\n  NORMAL: 1,\n  CHANGING: 2,\n  FULLSCREEN: 3\n};\nexports.PresentationModeState = PresentationModeState;\nvar RendererType = {\n  CANVAS: \"canvas\",\n  SVG: \"svg\"\n};\nexports.RendererType = RendererType;\nvar TextLayerMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_ENHANCE: 2\n};\nexports.TextLayerMode = TextLayerMode;\nvar ScrollMode = {\n  UNKNOWN: -1,\n  VERTICAL: 0,\n  HORIZONTAL: 1,\n  WRAPPED: 2\n};\nexports.ScrollMode = ScrollMode;\nvar SpreadMode = {\n  UNKNOWN: -1,\n  NONE: 0,\n  ODD: 1,\n  EVEN: 2\n};\nexports.SpreadMode = SpreadMode;\nvar AutoPrintRegExp = /\\bprint\\s*\\(/;\nexports.AutoPrintRegExp = AutoPrintRegExp;\nfunction formatL10nValue(text, args) {\n  if (!args) {\n    return text;\n  }\n  return text.replace(/\\{\\{\\s*(\\w+)\\s*\\}\\}/g, function (all, name) {\n    return name in args ? args[name] : \"{{\" + name + \"}}\";\n  });\n}\nvar NullL10n = {\n  getLanguage: function getLanguage() {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", \"en-us\");\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }))();\n  },\n  getDirection: function getDirection() {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt(\"return\", \"ltr\");\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }))();\n  },\n  get: function get(property, args, fallback) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            return _context3.abrupt(\"return\", formatL10nValue(fallback, args));\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3);\n    }))();\n  },\n  translate: function translate(element) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n      return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n        while (1) switch (_context4.prev = _context4.next) {\n          case 0:\n          case \"end\":\n            return _context4.stop();\n        }\n      }, _callee4);\n    }))();\n  }\n};\nexports.NullL10n = NullL10n;\nfunction getOutputScale(ctx) {\n  var devicePixelRatio = window.devicePixelRatio || 1;\n  var backingStoreRatio = ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1;\n  var pixelRatio = devicePixelRatio / backingStoreRatio;\n  return {\n    sx: pixelRatio,\n    sy: pixelRatio,\n    scaled: pixelRatio !== 1\n  };\n}\nfunction scrollIntoView(element, spot) {\n  var skipOverflowHiddenElements = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var parent = element.offsetParent;\n  if (!parent) {\n    console.error(\"offsetParent is not set -- cannot scroll\");\n    return;\n  }\n  var offsetY = element.offsetTop + element.clientTop;\n  var offsetX = element.offsetLeft + element.clientLeft;\n  while (parent.clientHeight === parent.scrollHeight && parent.clientWidth === parent.scrollWidth || skipOverflowHiddenElements && getComputedStyle(parent).overflow === \"hidden\") {\n    if (parent.dataset._scaleY) {\n      offsetY /= parent.dataset._scaleY;\n      offsetX /= parent.dataset._scaleX;\n    }\n    offsetY += parent.offsetTop;\n    offsetX += parent.offsetLeft;\n    parent = parent.offsetParent;\n    if (!parent) {\n      return;\n    }\n  }\n  if (spot) {\n    if (spot.top !== undefined) {\n      offsetY += spot.top;\n    }\n    if (spot.left !== undefined) {\n      offsetX += spot.left;\n      parent.scrollLeft = offsetX;\n    }\n  }\n  parent.scrollTop = offsetY;\n}\nfunction watchScroll(viewAreaElement, callback) {\n  var debounceScroll = function debounceScroll(evt) {\n    if (rAF) {\n      return;\n    }\n    rAF = window.requestAnimationFrame(function viewAreaElementScrolled() {\n      rAF = null;\n      var currentX = viewAreaElement.scrollLeft;\n      var lastX = state.lastX;\n      if (currentX !== lastX) {\n        state.right = currentX > lastX;\n      }\n      state.lastX = currentX;\n      var currentY = viewAreaElement.scrollTop;\n      var lastY = state.lastY;\n      if (currentY !== lastY) {\n        state.down = currentY > lastY;\n      }\n      state.lastY = currentY;\n      callback(state);\n    });\n  };\n  var state = {\n    right: true,\n    down: true,\n    lastX: viewAreaElement.scrollLeft,\n    lastY: viewAreaElement.scrollTop,\n    _eventHandler: debounceScroll\n  };\n  var rAF = null;\n  viewAreaElement.addEventListener(\"scroll\", debounceScroll, true);\n  return state;\n}\nfunction parseQueryString(query) {\n  var parts = query.split(\"&\");\n  var params = Object.create(null);\n  for (var i = 0, ii = parts.length; i < ii; ++i) {\n    var param = parts[i].split(\"=\");\n    var key = param[0].toLowerCase();\n    var value = param.length > 1 ? param[1] : null;\n    params[decodeURIComponent(key)] = decodeURIComponent(value);\n  }\n  return params;\n}\nfunction binarySearchFirstItem(items, condition) {\n  var minIndex = 0;\n  var maxIndex = items.length - 1;\n  if (items.length === 0 || !condition(items[maxIndex])) {\n    return items.length;\n  }\n  if (condition(items[minIndex])) {\n    return minIndex;\n  }\n  while (minIndex < maxIndex) {\n    var currentIndex = minIndex + maxIndex >> 1;\n    var currentItem = items[currentIndex];\n    if (condition(currentItem)) {\n      maxIndex = currentIndex;\n    } else {\n      minIndex = currentIndex + 1;\n    }\n  }\n  return minIndex;\n}\nfunction approximateFraction(x) {\n  if (Math.floor(x) === x) {\n    return [x, 1];\n  }\n  var xinv = 1 / x;\n  var limit = 8;\n  if (xinv > limit) {\n    return [1, limit];\n  } else if (Math.floor(xinv) === xinv) {\n    return [1, xinv];\n  }\n  var x_ = x > 1 ? xinv : x;\n  var a = 0,\n    b = 1,\n    c = 1,\n    d = 1;\n  while (true) {\n    var p = a + c,\n      q = b + d;\n    if (q > limit) {\n      break;\n    }\n    if (x_ <= p / q) {\n      c = p;\n      d = q;\n    } else {\n      a = p;\n      b = q;\n    }\n  }\n  var result;\n  if (x_ - a / b < c / d - x_) {\n    result = x_ === x ? [a, b] : [b, a];\n  } else {\n    result = x_ === x ? [c, d] : [d, c];\n  }\n  return result;\n}\nfunction roundToDivide(x, div) {\n  var r = x % div;\n  return r === 0 ? x : Math.round(x - r + div);\n}\nfunction getPageSizeInches(_ref) {\n  var view = _ref.view,\n    userUnit = _ref.userUnit,\n    rotate = _ref.rotate;\n  var _view = _slicedToArray(view, 4),\n    x1 = _view[0],\n    y1 = _view[1],\n    x2 = _view[2],\n    y2 = _view[3];\n  var changeOrientation = rotate % 180 !== 0;\n  var width = (x2 - x1) / 72 * userUnit;\n  var height = (y2 - y1) / 72 * userUnit;\n  return {\n    width: changeOrientation ? height : width,\n    height: changeOrientation ? width : height\n  };\n}\nfunction backtrackBeforeAllVisibleElements(index, views, top) {\n  if (index < 2) {\n    return index;\n  }\n  var elt = views[index].div;\n  var pageTop = elt.offsetTop + elt.clientTop;\n  if (pageTop >= top) {\n    elt = views[index - 1].div;\n    pageTop = elt.offsetTop + elt.clientTop;\n  }\n  for (var i = index - 2; i >= 0; --i) {\n    elt = views[i].div;\n    if (elt.offsetTop + elt.clientTop + elt.clientHeight <= pageTop) {\n      break;\n    }\n    index = i;\n  }\n  return index;\n}\nfunction getVisibleElements(scrollEl, views) {\n  var sortByVisibility = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var horizontal = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var top = scrollEl.scrollTop,\n    bottom = top + scrollEl.clientHeight;\n  var left = scrollEl.scrollLeft,\n    right = left + scrollEl.clientWidth;\n  function isElementBottomAfterViewTop(view) {\n    var element = view.div;\n    var elementBottom = element.offsetTop + element.clientTop + element.clientHeight;\n    return elementBottom > top;\n  }\n  function isElementRightAfterViewLeft(view) {\n    var element = view.div;\n    var elementRight = element.offsetLeft + element.clientLeft + element.clientWidth;\n    return elementRight > left;\n  }\n  var visible = [],\n    numViews = views.length;\n  var firstVisibleElementInd = numViews === 0 ? 0 : binarySearchFirstItem(views, horizontal ? isElementRightAfterViewLeft : isElementBottomAfterViewTop);\n  if (firstVisibleElementInd > 0 && firstVisibleElementInd < numViews && !horizontal) {\n    firstVisibleElementInd = backtrackBeforeAllVisibleElements(firstVisibleElementInd, views, top);\n  }\n  var lastEdge = horizontal ? right : -1;\n  for (var i = firstVisibleElementInd; i < numViews; i++) {\n    var view = views[i],\n      element = view.div;\n    var currentWidth = element.offsetLeft + element.clientLeft;\n    var currentHeight = element.offsetTop + element.clientTop;\n    var viewWidth = element.clientWidth,\n      viewHeight = element.clientHeight;\n    var viewRight = currentWidth + viewWidth;\n    var viewBottom = currentHeight + viewHeight;\n    if (lastEdge === -1) {\n      if (viewBottom >= bottom) {\n        lastEdge = viewBottom;\n      }\n    } else if ((horizontal ? currentWidth : currentHeight) > lastEdge) {\n      break;\n    }\n    if (viewBottom <= top || currentHeight >= bottom || viewRight <= left || currentWidth >= right) {\n      continue;\n    }\n    var hiddenHeight = Math.max(0, top - currentHeight) + Math.max(0, viewBottom - bottom);\n    var hiddenWidth = Math.max(0, left - currentWidth) + Math.max(0, viewRight - right);\n    var percent = (viewHeight - hiddenHeight) * (viewWidth - hiddenWidth) * 100 / viewHeight / viewWidth | 0;\n    visible.push({\n      id: view.id,\n      x: currentWidth,\n      y: currentHeight,\n      view: view,\n      percent: percent\n    });\n  }\n  var first = visible[0],\n    last = visible[visible.length - 1];\n  if (sortByVisibility) {\n    visible.sort(function (a, b) {\n      var pc = a.percent - b.percent;\n      if (Math.abs(pc) > 0.001) {\n        return -pc;\n      }\n      return a.id - b.id;\n    });\n  }\n  return {\n    first: first,\n    last: last,\n    views: visible\n  };\n}\nfunction noContextMenuHandler(evt) {\n  evt.preventDefault();\n}\nfunction isDataSchema(url) {\n  var i = 0;\n  var ii = url.length;\n  while (i < ii && url[i].trim() === \"\") {\n    i++;\n  }\n  return url.substring(i, i + 5).toLowerCase() === \"data:\";\n}\nfunction getPDFFileNameFromURL(url) {\n  var defaultFilename = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"document.pdf\";\n  if (typeof url !== \"string\") {\n    return defaultFilename;\n  }\n  if (isDataSchema(url)) {\n    console.warn(\"getPDFFileNameFromURL: \" + 'ignoring \"data:\" URL for performance reasons.');\n    return defaultFilename;\n  }\n  var reURI = /^(?:(?:[^:]+:)?\\/\\/[^\\/]+)?([^?#]*)(\\?[^#]*)?(#.*)?$/;\n  var reFilename = /[^\\/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n  var splitURI = reURI.exec(url);\n  var suggestedFilename = reFilename.exec(splitURI[1]) || reFilename.exec(splitURI[2]) || reFilename.exec(splitURI[3]);\n  if (suggestedFilename) {\n    suggestedFilename = suggestedFilename[0];\n    if (suggestedFilename.includes(\"%\")) {\n      try {\n        suggestedFilename = reFilename.exec(decodeURIComponent(suggestedFilename))[0];\n      } catch (ex) {}\n    }\n  }\n  return suggestedFilename || defaultFilename;\n}\nfunction normalizeWheelEventDelta(evt) {\n  var delta = Math.sqrt(evt.deltaX * evt.deltaX + evt.deltaY * evt.deltaY);\n  var angle = Math.atan2(evt.deltaY, evt.deltaX);\n  if (-0.25 * Math.PI < angle && angle < 0.75 * Math.PI) {\n    delta = -delta;\n  }\n  var MOUSE_DOM_DELTA_PIXEL_MODE = 0;\n  var MOUSE_DOM_DELTA_LINE_MODE = 1;\n  var MOUSE_PIXELS_PER_LINE = 30;\n  var MOUSE_LINES_PER_PAGE = 30;\n  if (evt.deltaMode === MOUSE_DOM_DELTA_PIXEL_MODE) {\n    delta /= MOUSE_PIXELS_PER_LINE * MOUSE_LINES_PER_PAGE;\n  } else if (evt.deltaMode === MOUSE_DOM_DELTA_LINE_MODE) {\n    delta /= MOUSE_LINES_PER_PAGE;\n  }\n  return delta;\n}\nfunction isValidRotation(angle) {\n  return Number.isInteger(angle) && angle % 90 === 0;\n}\nfunction isValidScrollMode(mode) {\n  return Number.isInteger(mode) && Object.values(ScrollMode).includes(mode) && mode !== ScrollMode.UNKNOWN;\n}\nfunction isValidSpreadMode(mode) {\n  return Number.isInteger(mode) && Object.values(SpreadMode).includes(mode) && mode !== SpreadMode.UNKNOWN;\n}\nfunction isPortraitOrientation(size) {\n  return size.width <= size.height;\n}\nvar WaitOnType = {\n  EVENT: \"event\",\n  TIMEOUT: \"timeout\"\n};\nexports.WaitOnType = WaitOnType;\nfunction waitOnEventOrTimeout(_ref2) {\n  var target = _ref2.target,\n    name = _ref2.name,\n    _ref2$delay = _ref2.delay,\n    delay = _ref2$delay === void 0 ? 0 : _ref2$delay;\n  return new Promise(function (resolve, reject) {\n    if (typeof target !== \"object\" || !(name && typeof name === \"string\") || !(Number.isInteger(delay) && delay >= 0)) {\n      throw new Error(\"waitOnEventOrTimeout - invalid parameters.\");\n    }\n    function handler(type) {\n      if (target instanceof EventBus) {\n        target._off(name, eventHandler);\n      } else {\n        target.removeEventListener(name, eventHandler);\n      }\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n      resolve(type);\n    }\n    var eventHandler = handler.bind(null, WaitOnType.EVENT);\n    if (target instanceof EventBus) {\n      target._on(name, eventHandler);\n    } else {\n      target.addEventListener(name, eventHandler);\n    }\n    var timeoutHandler = handler.bind(null, WaitOnType.TIMEOUT);\n    var timeout = setTimeout(timeoutHandler, delay);\n  });\n}\nvar animationStarted = new Promise(function (resolve) {\n  window.requestAnimationFrame(resolve);\n});\nexports.animationStarted = animationStarted;\nfunction dispatchDOMEvent(eventName) {\n  var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  var details = Object.create(null);\n  if (args && args.length > 0) {\n    var obj = args[0];\n    for (var key in obj) {\n      var value = obj[key];\n      if (key === \"source\") {\n        if (value === window || value === document) {\n          return;\n        }\n        continue;\n      }\n      details[key] = value;\n    }\n  }\n  var event = document.createEvent(\"CustomEvent\");\n  event.initCustomEvent(eventName, true, true, details);\n  document.dispatchEvent(event);\n}\nvar EventBus = /*#__PURE__*/function () {\n  function EventBus() {\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$dispatchToDOM = _ref3.dispatchToDOM,\n      dispatchToDOM = _ref3$dispatchToDOM === void 0 ? false : _ref3$dispatchToDOM;\n    _classCallCheck(this, EventBus);\n    this._listeners = Object.create(null);\n    this._dispatchToDOM = dispatchToDOM === true;\n    if (dispatchToDOM) {\n      console.error(\"The `eventBusDispatchToDOM` option/preference is deprecated, \" + \"add event listeners to the EventBus instance rather than the DOM.\");\n    }\n  }\n  _createClass(EventBus, [{\n    key: \"on\",\n    value: function on(eventName, listener) {\n      this._on(eventName, listener, {\n        external: true\n      });\n    }\n  }, {\n    key: \"off\",\n    value: function off(eventName, listener) {\n      this._off(eventName, listener, {\n        external: true\n      });\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(eventName) {\n      var eventListeners = this._listeners[eventName];\n      if (!eventListeners || eventListeners.length === 0) {\n        if (this._dispatchToDOM) {\n          var _args5 = Array.prototype.slice.call(arguments, 1);\n          dispatchDOMEvent(eventName, _args5);\n        }\n        return;\n      }\n      var args = Array.prototype.slice.call(arguments, 1);\n      var externalListeners;\n      eventListeners.slice(0).forEach(function (_ref4) {\n        var listener = _ref4.listener,\n          external = _ref4.external;\n        if (external) {\n          if (!externalListeners) {\n            externalListeners = [];\n          }\n          externalListeners.push(listener);\n          return;\n        }\n        listener.apply(null, args);\n      });\n      if (externalListeners) {\n        externalListeners.forEach(function (listener) {\n          listener.apply(null, args);\n        });\n        externalListeners = null;\n      }\n      if (this._dispatchToDOM) {\n        dispatchDOMEvent(eventName, args);\n      }\n    }\n  }, {\n    key: \"_on\",\n    value: function _on(eventName, listener) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var eventListeners = this._listeners[eventName];\n      if (!eventListeners) {\n        this._listeners[eventName] = eventListeners = [];\n      }\n      eventListeners.push({\n        listener: listener,\n        external: (options && options.external) === true\n      });\n    }\n  }, {\n    key: \"_off\",\n    value: function _off(eventName, listener) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var eventListeners = this._listeners[eventName];\n      if (!eventListeners) {\n        return;\n      }\n      for (var i = 0, ii = eventListeners.length; i < ii; i++) {\n        if (eventListeners[i].listener === listener) {\n          eventListeners.splice(i, 1);\n          return;\n        }\n      }\n    }\n  }]);\n  return EventBus;\n}();\nexports.EventBus = EventBus;\nvar globalEventBus = null;\nfunction getGlobalEventBus() {\n  var dispatchToDOM = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  console.error(\"getGlobalEventBus is deprecated, use a manually created EventBus instance instead.\");\n  if (!globalEventBus) {\n    globalEventBus = new EventBus({\n      dispatchToDOM: dispatchToDOM\n    });\n  }\n  return globalEventBus;\n}\nfunction clamp(v, min, max) {\n  return Math.min(Math.max(v, min), max);\n}\nvar ProgressBar = /*#__PURE__*/function () {\n  function ProgressBar(id) {\n    var _ref5 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      height = _ref5.height,\n      width = _ref5.width,\n      units = _ref5.units;\n    _classCallCheck(this, ProgressBar);\n    this.visible = true;\n    this.div = document.querySelector(id + \" .progress\");\n    this.bar = this.div.parentNode;\n    this.height = height || 100;\n    this.width = width || 100;\n    this.units = units || \"%\";\n    this.div.style.height = this.height + this.units;\n    this.percent = 0;\n  }\n  _createClass(ProgressBar, [{\n    key: \"_updateBar\",\n    value: function _updateBar() {\n      if (this._indeterminate) {\n        this.div.classList.add(\"indeterminate\");\n        this.div.style.width = this.width + this.units;\n        return;\n      }\n      this.div.classList.remove(\"indeterminate\");\n      var progressSize = this.width * this._percent / 100;\n      this.div.style.width = progressSize + this.units;\n    }\n  }, {\n    key: \"percent\",\n    get: function get() {\n      return this._percent;\n    },\n    set: function set(val) {\n      this._indeterminate = isNaN(val);\n      this._percent = clamp(val, 0, 100);\n      this._updateBar();\n    }\n  }, {\n    key: \"setWidth\",\n    value: function setWidth(viewer) {\n      if (!viewer) {\n        return;\n      }\n      var container = viewer.parentNode;\n      var scrollbarWidth = container.offsetWidth - viewer.offsetWidth;\n      if (scrollbarWidth > 0) {\n        this.bar.style.width = \"calc(100% - \".concat(scrollbarWidth, \"px)\");\n      }\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      if (!this.visible) {\n        return;\n      }\n      this.visible = false;\n      this.bar.classList.add(\"hidden\");\n      document.body.classList.remove(\"loadingInProgress\");\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (this.visible) {\n        return;\n      }\n      this.visible = true;\n      document.body.classList.add(\"loadingInProgress\");\n      this.bar.classList.remove(\"hidden\");\n    }\n  }]);\n  return ProgressBar;\n}();\nexports.ProgressBar = ProgressBar;\nfunction moveToEndOfArray(arr, condition) {\n  var moved = [],\n    len = arr.length;\n  var write = 0;\n  for (var read = 0; read < len; ++read) {\n    if (condition(arr[read])) {\n      moved.push(arr[read]);\n    } else {\n      arr[write] = arr[read];\n      ++write;\n    }\n  }\n  for (var _read = 0; write < len; ++_read, ++write) {\n    arr[write] = moved[_read];\n  }\n}","map":{"version":3,"names":["_classCallCheck","require","default","_createClass","_slicedToArray","_regeneratorRuntime","_asyncToGenerator","Object","defineProperty","exports","value","isValidRotation","isValidScrollMode","isValidSpreadMode","isPortraitOrientation","getGlobalEventBus","clamp","getPDFFileNameFromURL","noContextMenuHandler","parseQueryString","backtrackBeforeAllVisibleElements","getVisibleElements","roundToDivide","getPageSizeInches","approximateFraction","getOutputScale","scrollIntoView","watchScroll","binarySearchFirstItem","normalizeWheelEventDelta","waitOnEventOrTimeout","moveToEndOfArray","WaitOnType","animationStarted","ProgressBar","EventBus","NullL10n","SpreadMode","ScrollMode","TextLayerMode","RendererType","PresentationModeState","VERTICAL_PADDING","SCROLLBAR_PADDING","MAX_AUTO_SCALE","UNKNOWN_SCALE","MAX_SCALE","MIN_SCALE","DEFAULT_SCALE","DEFAULT_SCALE_VALUE","CSS_UNITS","AutoPrintRegExp","UNKNOWN","NORMAL","CHANGING","FULLSCREEN","CANVAS","SVG","DISABLE","ENABLE","ENABLE_ENHANCE","VERTICAL","HORIZONTAL","WRAPPED","NONE","ODD","EVEN","formatL10nValue","text","args","replace","all","name","getLanguage","mark","_callee","wrap","_callee$","_context","prev","next","abrupt","stop","getDirection","_callee2","_callee2$","_context2","get","property","fallback","_callee3","_callee3$","_context3","translate","element","_callee4","_callee4$","_context4","ctx","devicePixelRatio","window","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","pixelRatio","sx","sy","scaled","spot","skipOverflowHiddenElements","arguments","length","undefined","parent","offsetParent","console","error","offsetY","offsetTop","clientTop","offsetX","offsetLeft","clientLeft","clientHeight","scrollHeight","clientWidth","scrollWidth","getComputedStyle","overflow","dataset","_scaleY","_scaleX","top","left","scrollLeft","scrollTop","viewAreaElement","callback","debounceScroll","evt","rAF","requestAnimationFrame","viewAreaElementScrolled","currentX","lastX","state","right","currentY","lastY","down","_eventHandler","addEventListener","query","parts","split","params","create","i","ii","param","key","toLowerCase","decodeURIComponent","items","condition","minIndex","maxIndex","currentIndex","currentItem","x","Math","floor","xinv","limit","x_","a","b","c","d","p","q","result","div","r","round","_ref","view","userUnit","rotate","_view","x1","y1","x2","y2","changeOrientation","width","height","index","views","elt","pageTop","scrollEl","sortByVisibility","horizontal","bottom","isElementBottomAfterViewTop","elementBottom","isElementRightAfterViewLeft","elementRight","visible","numViews","firstVisibleElementInd","lastEdge","currentWidth","currentHeight","viewWidth","viewHeight","viewRight","viewBottom","hiddenHeight","max","hiddenWidth","percent","push","id","y","first","last","sort","pc","abs","preventDefault","isDataSchema","url","trim","substring","defaultFilename","warn","reURI","reFilename","splitURI","exec","suggestedFilename","includes","ex","delta","sqrt","deltaX","deltaY","angle","atan2","PI","MOUSE_DOM_DELTA_PIXEL_MODE","MOUSE_DOM_DELTA_LINE_MODE","MOUSE_PIXELS_PER_LINE","MOUSE_LINES_PER_PAGE","deltaMode","Number","isInteger","mode","values","size","EVENT","TIMEOUT","_ref2","target","_ref2$delay","delay","Promise","resolve","reject","Error","handler","type","_off","eventHandler","removeEventListener","timeout","clearTimeout","bind","_on","timeoutHandler","setTimeout","dispatchDOMEvent","eventName","details","obj","document","event","createEvent","initCustomEvent","dispatchEvent","_ref3","_ref3$dispatchToDOM","dispatchToDOM","_listeners","_dispatchToDOM","on","listener","external","off","dispatch","eventListeners","Array","prototype","slice","call","externalListeners","forEach","_ref4","apply","options","splice","globalEventBus","v","min","_ref5","units","querySelector","bar","parentNode","style","_updateBar","_indeterminate","classList","add","remove","progressSize","_percent","set","val","isNaN","setWidth","viewer","container","scrollbarWidth","offsetWidth","concat","hide","body","show","arr","moved","len","write","read"],"sources":["C:/Users/hoang/OneDrive/Máy tính/xs5wpn/node_modules/pdfjs-dist/lib/web/ui_utils.js"],"sourcesContent":["/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isValidRotation = isValidRotation;\nexports.isValidScrollMode = isValidScrollMode;\nexports.isValidSpreadMode = isValidSpreadMode;\nexports.isPortraitOrientation = isPortraitOrientation;\nexports.getGlobalEventBus = getGlobalEventBus;\nexports.clamp = clamp;\nexports.getPDFFileNameFromURL = getPDFFileNameFromURL;\nexports.noContextMenuHandler = noContextMenuHandler;\nexports.parseQueryString = parseQueryString;\nexports.backtrackBeforeAllVisibleElements = backtrackBeforeAllVisibleElements;\nexports.getVisibleElements = getVisibleElements;\nexports.roundToDivide = roundToDivide;\nexports.getPageSizeInches = getPageSizeInches;\nexports.approximateFraction = approximateFraction;\nexports.getOutputScale = getOutputScale;\nexports.scrollIntoView = scrollIntoView;\nexports.watchScroll = watchScroll;\nexports.binarySearchFirstItem = binarySearchFirstItem;\nexports.normalizeWheelEventDelta = normalizeWheelEventDelta;\nexports.waitOnEventOrTimeout = waitOnEventOrTimeout;\nexports.moveToEndOfArray = moveToEndOfArray;\nexports.WaitOnType = exports.animationStarted = exports.ProgressBar = exports.EventBus = exports.NullL10n = exports.SpreadMode = exports.ScrollMode = exports.TextLayerMode = exports.RendererType = exports.PresentationModeState = exports.VERTICAL_PADDING = exports.SCROLLBAR_PADDING = exports.MAX_AUTO_SCALE = exports.UNKNOWN_SCALE = exports.MAX_SCALE = exports.MIN_SCALE = exports.DEFAULT_SCALE = exports.DEFAULT_SCALE_VALUE = exports.CSS_UNITS = exports.AutoPrintRegExp = void 0;\nconst CSS_UNITS = 96.0 / 72.0;\nexports.CSS_UNITS = CSS_UNITS;\nconst DEFAULT_SCALE_VALUE = \"auto\";\nexports.DEFAULT_SCALE_VALUE = DEFAULT_SCALE_VALUE;\nconst DEFAULT_SCALE = 1.0;\nexports.DEFAULT_SCALE = DEFAULT_SCALE;\nconst MIN_SCALE = 0.1;\nexports.MIN_SCALE = MIN_SCALE;\nconst MAX_SCALE = 10.0;\nexports.MAX_SCALE = MAX_SCALE;\nconst UNKNOWN_SCALE = 0;\nexports.UNKNOWN_SCALE = UNKNOWN_SCALE;\nconst MAX_AUTO_SCALE = 1.25;\nexports.MAX_AUTO_SCALE = MAX_AUTO_SCALE;\nconst SCROLLBAR_PADDING = 40;\nexports.SCROLLBAR_PADDING = SCROLLBAR_PADDING;\nconst VERTICAL_PADDING = 5;\nexports.VERTICAL_PADDING = VERTICAL_PADDING;\nconst PresentationModeState = {\n  UNKNOWN: 0,\n  NORMAL: 1,\n  CHANGING: 2,\n  FULLSCREEN: 3\n};\nexports.PresentationModeState = PresentationModeState;\nconst RendererType = {\n  CANVAS: \"canvas\",\n  SVG: \"svg\"\n};\nexports.RendererType = RendererType;\nconst TextLayerMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_ENHANCE: 2\n};\nexports.TextLayerMode = TextLayerMode;\nconst ScrollMode = {\n  UNKNOWN: -1,\n  VERTICAL: 0,\n  HORIZONTAL: 1,\n  WRAPPED: 2\n};\nexports.ScrollMode = ScrollMode;\nconst SpreadMode = {\n  UNKNOWN: -1,\n  NONE: 0,\n  ODD: 1,\n  EVEN: 2\n};\nexports.SpreadMode = SpreadMode;\nconst AutoPrintRegExp = /\\bprint\\s*\\(/;\nexports.AutoPrintRegExp = AutoPrintRegExp;\n\nfunction formatL10nValue(text, args) {\n  if (!args) {\n    return text;\n  }\n\n  return text.replace(/\\{\\{\\s*(\\w+)\\s*\\}\\}/g, (all, name) => {\n    return name in args ? args[name] : \"{{\" + name + \"}}\";\n  });\n}\n\nconst NullL10n = {\n  async getLanguage() {\n    return \"en-us\";\n  },\n\n  async getDirection() {\n    return \"ltr\";\n  },\n\n  async get(property, args, fallback) {\n    return formatL10nValue(fallback, args);\n  },\n\n  async translate(element) {}\n\n};\nexports.NullL10n = NullL10n;\n\nfunction getOutputScale(ctx) {\n  const devicePixelRatio = window.devicePixelRatio || 1;\n  const backingStoreRatio = ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1;\n  const pixelRatio = devicePixelRatio / backingStoreRatio;\n  return {\n    sx: pixelRatio,\n    sy: pixelRatio,\n    scaled: pixelRatio !== 1\n  };\n}\n\nfunction scrollIntoView(element, spot, skipOverflowHiddenElements = false) {\n  let parent = element.offsetParent;\n\n  if (!parent) {\n    console.error(\"offsetParent is not set -- cannot scroll\");\n    return;\n  }\n\n  let offsetY = element.offsetTop + element.clientTop;\n  let offsetX = element.offsetLeft + element.clientLeft;\n\n  while (parent.clientHeight === parent.scrollHeight && parent.clientWidth === parent.scrollWidth || skipOverflowHiddenElements && getComputedStyle(parent).overflow === \"hidden\") {\n    if (parent.dataset._scaleY) {\n      offsetY /= parent.dataset._scaleY;\n      offsetX /= parent.dataset._scaleX;\n    }\n\n    offsetY += parent.offsetTop;\n    offsetX += parent.offsetLeft;\n    parent = parent.offsetParent;\n\n    if (!parent) {\n      return;\n    }\n  }\n\n  if (spot) {\n    if (spot.top !== undefined) {\n      offsetY += spot.top;\n    }\n\n    if (spot.left !== undefined) {\n      offsetX += spot.left;\n      parent.scrollLeft = offsetX;\n    }\n  }\n\n  parent.scrollTop = offsetY;\n}\n\nfunction watchScroll(viewAreaElement, callback) {\n  const debounceScroll = function (evt) {\n    if (rAF) {\n      return;\n    }\n\n    rAF = window.requestAnimationFrame(function viewAreaElementScrolled() {\n      rAF = null;\n      const currentX = viewAreaElement.scrollLeft;\n      const lastX = state.lastX;\n\n      if (currentX !== lastX) {\n        state.right = currentX > lastX;\n      }\n\n      state.lastX = currentX;\n      const currentY = viewAreaElement.scrollTop;\n      const lastY = state.lastY;\n\n      if (currentY !== lastY) {\n        state.down = currentY > lastY;\n      }\n\n      state.lastY = currentY;\n      callback(state);\n    });\n  };\n\n  const state = {\n    right: true,\n    down: true,\n    lastX: viewAreaElement.scrollLeft,\n    lastY: viewAreaElement.scrollTop,\n    _eventHandler: debounceScroll\n  };\n  let rAF = null;\n  viewAreaElement.addEventListener(\"scroll\", debounceScroll, true);\n  return state;\n}\n\nfunction parseQueryString(query) {\n  const parts = query.split(\"&\");\n  const params = Object.create(null);\n\n  for (let i = 0, ii = parts.length; i < ii; ++i) {\n    const param = parts[i].split(\"=\");\n    const key = param[0].toLowerCase();\n    const value = param.length > 1 ? param[1] : null;\n    params[decodeURIComponent(key)] = decodeURIComponent(value);\n  }\n\n  return params;\n}\n\nfunction binarySearchFirstItem(items, condition) {\n  let minIndex = 0;\n  let maxIndex = items.length - 1;\n\n  if (items.length === 0 || !condition(items[maxIndex])) {\n    return items.length;\n  }\n\n  if (condition(items[minIndex])) {\n    return minIndex;\n  }\n\n  while (minIndex < maxIndex) {\n    const currentIndex = minIndex + maxIndex >> 1;\n    const currentItem = items[currentIndex];\n\n    if (condition(currentItem)) {\n      maxIndex = currentIndex;\n    } else {\n      minIndex = currentIndex + 1;\n    }\n  }\n\n  return minIndex;\n}\n\nfunction approximateFraction(x) {\n  if (Math.floor(x) === x) {\n    return [x, 1];\n  }\n\n  const xinv = 1 / x;\n  const limit = 8;\n\n  if (xinv > limit) {\n    return [1, limit];\n  } else if (Math.floor(xinv) === xinv) {\n    return [1, xinv];\n  }\n\n  const x_ = x > 1 ? xinv : x;\n  let a = 0,\n      b = 1,\n      c = 1,\n      d = 1;\n\n  while (true) {\n    const p = a + c,\n          q = b + d;\n\n    if (q > limit) {\n      break;\n    }\n\n    if (x_ <= p / q) {\n      c = p;\n      d = q;\n    } else {\n      a = p;\n      b = q;\n    }\n  }\n\n  let result;\n\n  if (x_ - a / b < c / d - x_) {\n    result = x_ === x ? [a, b] : [b, a];\n  } else {\n    result = x_ === x ? [c, d] : [d, c];\n  }\n\n  return result;\n}\n\nfunction roundToDivide(x, div) {\n  const r = x % div;\n  return r === 0 ? x : Math.round(x - r + div);\n}\n\nfunction getPageSizeInches({\n  view,\n  userUnit,\n  rotate\n}) {\n  const [x1, y1, x2, y2] = view;\n  const changeOrientation = rotate % 180 !== 0;\n  const width = (x2 - x1) / 72 * userUnit;\n  const height = (y2 - y1) / 72 * userUnit;\n  return {\n    width: changeOrientation ? height : width,\n    height: changeOrientation ? width : height\n  };\n}\n\nfunction backtrackBeforeAllVisibleElements(index, views, top) {\n  if (index < 2) {\n    return index;\n  }\n\n  let elt = views[index].div;\n  let pageTop = elt.offsetTop + elt.clientTop;\n\n  if (pageTop >= top) {\n    elt = views[index - 1].div;\n    pageTop = elt.offsetTop + elt.clientTop;\n  }\n\n  for (let i = index - 2; i >= 0; --i) {\n    elt = views[i].div;\n\n    if (elt.offsetTop + elt.clientTop + elt.clientHeight <= pageTop) {\n      break;\n    }\n\n    index = i;\n  }\n\n  return index;\n}\n\nfunction getVisibleElements(scrollEl, views, sortByVisibility = false, horizontal = false) {\n  const top = scrollEl.scrollTop,\n        bottom = top + scrollEl.clientHeight;\n  const left = scrollEl.scrollLeft,\n        right = left + scrollEl.clientWidth;\n\n  function isElementBottomAfterViewTop(view) {\n    const element = view.div;\n    const elementBottom = element.offsetTop + element.clientTop + element.clientHeight;\n    return elementBottom > top;\n  }\n\n  function isElementRightAfterViewLeft(view) {\n    const element = view.div;\n    const elementRight = element.offsetLeft + element.clientLeft + element.clientWidth;\n    return elementRight > left;\n  }\n\n  const visible = [],\n        numViews = views.length;\n  let firstVisibleElementInd = numViews === 0 ? 0 : binarySearchFirstItem(views, horizontal ? isElementRightAfterViewLeft : isElementBottomAfterViewTop);\n\n  if (firstVisibleElementInd > 0 && firstVisibleElementInd < numViews && !horizontal) {\n    firstVisibleElementInd = backtrackBeforeAllVisibleElements(firstVisibleElementInd, views, top);\n  }\n\n  let lastEdge = horizontal ? right : -1;\n\n  for (let i = firstVisibleElementInd; i < numViews; i++) {\n    const view = views[i],\n          element = view.div;\n    const currentWidth = element.offsetLeft + element.clientLeft;\n    const currentHeight = element.offsetTop + element.clientTop;\n    const viewWidth = element.clientWidth,\n          viewHeight = element.clientHeight;\n    const viewRight = currentWidth + viewWidth;\n    const viewBottom = currentHeight + viewHeight;\n\n    if (lastEdge === -1) {\n      if (viewBottom >= bottom) {\n        lastEdge = viewBottom;\n      }\n    } else if ((horizontal ? currentWidth : currentHeight) > lastEdge) {\n      break;\n    }\n\n    if (viewBottom <= top || currentHeight >= bottom || viewRight <= left || currentWidth >= right) {\n      continue;\n    }\n\n    const hiddenHeight = Math.max(0, top - currentHeight) + Math.max(0, viewBottom - bottom);\n    const hiddenWidth = Math.max(0, left - currentWidth) + Math.max(0, viewRight - right);\n    const percent = (viewHeight - hiddenHeight) * (viewWidth - hiddenWidth) * 100 / viewHeight / viewWidth | 0;\n    visible.push({\n      id: view.id,\n      x: currentWidth,\n      y: currentHeight,\n      view,\n      percent\n    });\n  }\n\n  const first = visible[0],\n        last = visible[visible.length - 1];\n\n  if (sortByVisibility) {\n    visible.sort(function (a, b) {\n      const pc = a.percent - b.percent;\n\n      if (Math.abs(pc) > 0.001) {\n        return -pc;\n      }\n\n      return a.id - b.id;\n    });\n  }\n\n  return {\n    first,\n    last,\n    views: visible\n  };\n}\n\nfunction noContextMenuHandler(evt) {\n  evt.preventDefault();\n}\n\nfunction isDataSchema(url) {\n  let i = 0;\n  const ii = url.length;\n\n  while (i < ii && url[i].trim() === \"\") {\n    i++;\n  }\n\n  return url.substring(i, i + 5).toLowerCase() === \"data:\";\n}\n\nfunction getPDFFileNameFromURL(url, defaultFilename = \"document.pdf\") {\n  if (typeof url !== \"string\") {\n    return defaultFilename;\n  }\n\n  if (isDataSchema(url)) {\n    console.warn(\"getPDFFileNameFromURL: \" + 'ignoring \"data:\" URL for performance reasons.');\n    return defaultFilename;\n  }\n\n  const reURI = /^(?:(?:[^:]+:)?\\/\\/[^\\/]+)?([^?#]*)(\\?[^#]*)?(#.*)?$/;\n  const reFilename = /[^\\/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n  const splitURI = reURI.exec(url);\n  let suggestedFilename = reFilename.exec(splitURI[1]) || reFilename.exec(splitURI[2]) || reFilename.exec(splitURI[3]);\n\n  if (suggestedFilename) {\n    suggestedFilename = suggestedFilename[0];\n\n    if (suggestedFilename.includes(\"%\")) {\n      try {\n        suggestedFilename = reFilename.exec(decodeURIComponent(suggestedFilename))[0];\n      } catch (ex) {}\n    }\n  }\n\n  return suggestedFilename || defaultFilename;\n}\n\nfunction normalizeWheelEventDelta(evt) {\n  let delta = Math.sqrt(evt.deltaX * evt.deltaX + evt.deltaY * evt.deltaY);\n  const angle = Math.atan2(evt.deltaY, evt.deltaX);\n\n  if (-0.25 * Math.PI < angle && angle < 0.75 * Math.PI) {\n    delta = -delta;\n  }\n\n  const MOUSE_DOM_DELTA_PIXEL_MODE = 0;\n  const MOUSE_DOM_DELTA_LINE_MODE = 1;\n  const MOUSE_PIXELS_PER_LINE = 30;\n  const MOUSE_LINES_PER_PAGE = 30;\n\n  if (evt.deltaMode === MOUSE_DOM_DELTA_PIXEL_MODE) {\n    delta /= MOUSE_PIXELS_PER_LINE * MOUSE_LINES_PER_PAGE;\n  } else if (evt.deltaMode === MOUSE_DOM_DELTA_LINE_MODE) {\n    delta /= MOUSE_LINES_PER_PAGE;\n  }\n\n  return delta;\n}\n\nfunction isValidRotation(angle) {\n  return Number.isInteger(angle) && angle % 90 === 0;\n}\n\nfunction isValidScrollMode(mode) {\n  return Number.isInteger(mode) && Object.values(ScrollMode).includes(mode) && mode !== ScrollMode.UNKNOWN;\n}\n\nfunction isValidSpreadMode(mode) {\n  return Number.isInteger(mode) && Object.values(SpreadMode).includes(mode) && mode !== SpreadMode.UNKNOWN;\n}\n\nfunction isPortraitOrientation(size) {\n  return size.width <= size.height;\n}\n\nconst WaitOnType = {\n  EVENT: \"event\",\n  TIMEOUT: \"timeout\"\n};\nexports.WaitOnType = WaitOnType;\n\nfunction waitOnEventOrTimeout({\n  target,\n  name,\n  delay = 0\n}) {\n  return new Promise(function (resolve, reject) {\n    if (typeof target !== \"object\" || !(name && typeof name === \"string\") || !(Number.isInteger(delay) && delay >= 0)) {\n      throw new Error(\"waitOnEventOrTimeout - invalid parameters.\");\n    }\n\n    function handler(type) {\n      if (target instanceof EventBus) {\n        target._off(name, eventHandler);\n      } else {\n        target.removeEventListener(name, eventHandler);\n      }\n\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n\n      resolve(type);\n    }\n\n    const eventHandler = handler.bind(null, WaitOnType.EVENT);\n\n    if (target instanceof EventBus) {\n      target._on(name, eventHandler);\n    } else {\n      target.addEventListener(name, eventHandler);\n    }\n\n    const timeoutHandler = handler.bind(null, WaitOnType.TIMEOUT);\n    const timeout = setTimeout(timeoutHandler, delay);\n  });\n}\n\nconst animationStarted = new Promise(function (resolve) {\n  window.requestAnimationFrame(resolve);\n});\nexports.animationStarted = animationStarted;\n\nfunction dispatchDOMEvent(eventName, args = null) {\n  const details = Object.create(null);\n\n  if (args && args.length > 0) {\n    const obj = args[0];\n\n    for (const key in obj) {\n      const value = obj[key];\n\n      if (key === \"source\") {\n        if (value === window || value === document) {\n          return;\n        }\n\n        continue;\n      }\n\n      details[key] = value;\n    }\n  }\n\n  const event = document.createEvent(\"CustomEvent\");\n  event.initCustomEvent(eventName, true, true, details);\n  document.dispatchEvent(event);\n}\n\nclass EventBus {\n  constructor({\n    dispatchToDOM = false\n  } = {}) {\n    this._listeners = Object.create(null);\n    this._dispatchToDOM = dispatchToDOM === true;\n\n    if (dispatchToDOM) {\n      console.error(\"The `eventBusDispatchToDOM` option/preference is deprecated, \" + \"add event listeners to the EventBus instance rather than the DOM.\");\n    }\n  }\n\n  on(eventName, listener) {\n    this._on(eventName, listener, {\n      external: true\n    });\n  }\n\n  off(eventName, listener) {\n    this._off(eventName, listener, {\n      external: true\n    });\n  }\n\n  dispatch(eventName) {\n    const eventListeners = this._listeners[eventName];\n\n    if (!eventListeners || eventListeners.length === 0) {\n      if (this._dispatchToDOM) {\n        const args = Array.prototype.slice.call(arguments, 1);\n        dispatchDOMEvent(eventName, args);\n      }\n\n      return;\n    }\n\n    const args = Array.prototype.slice.call(arguments, 1);\n    let externalListeners;\n    eventListeners.slice(0).forEach(function ({\n      listener,\n      external\n    }) {\n      if (external) {\n        if (!externalListeners) {\n          externalListeners = [];\n        }\n\n        externalListeners.push(listener);\n        return;\n      }\n\n      listener.apply(null, args);\n    });\n\n    if (externalListeners) {\n      externalListeners.forEach(function (listener) {\n        listener.apply(null, args);\n      });\n      externalListeners = null;\n    }\n\n    if (this._dispatchToDOM) {\n      dispatchDOMEvent(eventName, args);\n    }\n  }\n\n  _on(eventName, listener, options = null) {\n    let eventListeners = this._listeners[eventName];\n\n    if (!eventListeners) {\n      this._listeners[eventName] = eventListeners = [];\n    }\n\n    eventListeners.push({\n      listener,\n      external: (options && options.external) === true\n    });\n  }\n\n  _off(eventName, listener, options = null) {\n    const eventListeners = this._listeners[eventName];\n\n    if (!eventListeners) {\n      return;\n    }\n\n    for (let i = 0, ii = eventListeners.length; i < ii; i++) {\n      if (eventListeners[i].listener === listener) {\n        eventListeners.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n}\n\nexports.EventBus = EventBus;\nlet globalEventBus = null;\n\nfunction getGlobalEventBus(dispatchToDOM = false) {\n  console.error(\"getGlobalEventBus is deprecated, use a manually created EventBus instance instead.\");\n\n  if (!globalEventBus) {\n    globalEventBus = new EventBus({\n      dispatchToDOM\n    });\n  }\n\n  return globalEventBus;\n}\n\nfunction clamp(v, min, max) {\n  return Math.min(Math.max(v, min), max);\n}\n\nclass ProgressBar {\n  constructor(id, {\n    height,\n    width,\n    units\n  } = {}) {\n    this.visible = true;\n    this.div = document.querySelector(id + \" .progress\");\n    this.bar = this.div.parentNode;\n    this.height = height || 100;\n    this.width = width || 100;\n    this.units = units || \"%\";\n    this.div.style.height = this.height + this.units;\n    this.percent = 0;\n  }\n\n  _updateBar() {\n    if (this._indeterminate) {\n      this.div.classList.add(\"indeterminate\");\n      this.div.style.width = this.width + this.units;\n      return;\n    }\n\n    this.div.classList.remove(\"indeterminate\");\n    const progressSize = this.width * this._percent / 100;\n    this.div.style.width = progressSize + this.units;\n  }\n\n  get percent() {\n    return this._percent;\n  }\n\n  set percent(val) {\n    this._indeterminate = isNaN(val);\n    this._percent = clamp(val, 0, 100);\n\n    this._updateBar();\n  }\n\n  setWidth(viewer) {\n    if (!viewer) {\n      return;\n    }\n\n    const container = viewer.parentNode;\n    const scrollbarWidth = container.offsetWidth - viewer.offsetWidth;\n\n    if (scrollbarWidth > 0) {\n      this.bar.style.width = `calc(100% - ${scrollbarWidth}px)`;\n    }\n  }\n\n  hide() {\n    if (!this.visible) {\n      return;\n    }\n\n    this.visible = false;\n    this.bar.classList.add(\"hidden\");\n    document.body.classList.remove(\"loadingInProgress\");\n  }\n\n  show() {\n    if (this.visible) {\n      return;\n    }\n\n    this.visible = true;\n    document.body.classList.add(\"loadingInProgress\");\n    this.bar.classList.remove(\"hidden\");\n  }\n\n}\n\nexports.ProgressBar = ProgressBar;\n\nfunction moveToEndOfArray(arr, condition) {\n  const moved = [],\n        len = arr.length;\n  let write = 0;\n\n  for (let read = 0; read < len; ++read) {\n    if (condition(arr[read])) {\n      moved.push(arr[read]);\n    } else {\n      arr[write] = arr[read];\n      ++write;\n    }\n  }\n\n  for (let read = 0; write < len; ++read, ++write) {\n    arr[write] = moved[read];\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}